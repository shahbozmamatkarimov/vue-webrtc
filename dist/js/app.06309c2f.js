(function(){"use strict";var t={305:function(t,e,o){var r=o(144),n=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("div",{staticClass:"flex backdrop-blur-md bg-[#2E2C54] mb-4 pb-4"},[e("div",{staticClass:"w-full content-center"},[e("form",{staticClass:"rounded pt-6 pb-8 mb-4"},[e("div",{staticClass:"mb-4"},[e("label",{staticClass:"block text-white text-sm font-bold mb-2",attrs:{for:"room-input"}},[t._v(" Chat ID ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.roomId,expression:"roomId"}],staticClass:"shadow appearance-none border rounded w-full py-2 px-3 bg-[#8871E6] text-white font-bold text-lg leading-tight focus:outline-none focus:shadow-outline",attrs:{placeholder:"Enter room ID",id:"room-input"},domProps:{value:t.roomId},on:{input:function(e){e.target.composing||(t.roomId=e.target.value)}}})]),e("div",{staticClass:"flex items-center justify-between"},[e("button",{staticClass:"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded",attrs:{type:"button"},on:{click:t.copyClipboard}},[t._v("Chat linki")]),e("button",{staticClass:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",attrs:{type:"button",id:"join-btn"},on:{click:t.toggleRoom}},[t._v(t._s(t.hasJoined?"Tark etish":"Chatga kirish"))]),t.hasJoined?e("button",{staticClass:"bg-purple-500 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded",attrs:{type:"button",id:"screen-share-btn"},on:{click:t.screenShare}},[t._v("Screen Share")]):t._e(),t.hasJoined?e("button",{staticClass:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded",attrs:{type:"button"},on:{click:t.record}},[t._v("Record")]):t._e()]),e("vue-webrtc",{ref:"webrtc",staticClass:"w-full",attrs:{id:"call-canvas",roomId:t.roomId,width:"100%"},on:{"share-started":t.shareStarted,"share-stopped":t.leftRoom,"left-room":t.leftRoom,"joined-room":t.joinedRoom}})],1)])])])},a=[],i={name:"App",data(){return{roomId:"roomId",hasJoined:!1,mediaRecorder:{},chunks:[],userStream:{}}},mounted(){const t=window.location.hash;""!=t&&(this.roomId=t.substring(1),this.toggleRoom())},methods:{onStop(){var t=new Blob(this.chunks,{type:"video/webm"});this.chunks=[];const e=new File([t],"meeting.webm",{type:"video/webm"});var o=document.createElement("a"),r=URL.createObjectURL(e);o.href=r,o.download="meeting.webm",document.body.appendChild(o),o.click()},pushData(t){this.chunks.push(t.data)},record(){this.mediaRecorder.start()},async toggleRoom(){try{this.hasJoined?(this.$refs.webrtc.leave(),this.hasJoined=!1,this.mediaRecorder.stop()):(await this.$refs.webrtc.join(),this.userStream=this.$refs.webrtc.videoList[0].stream,this.mediaRecorder=new MediaRecorder(this.userStream),this.mediaRecorder.ondataavailable=t=>this.pushData(t),this.mediaRecorder.onstop=()=>this.onStop(),this.hasJoined=!0)}catch(t){alert(t)}},screenShare(){try{this.$refs.webrtc.shareScreen()}catch(t){alert("Screen share not available")}},async addTrack(){try{const t=this.$refs.webrtc.videoList;console.log(t),t.forEach((t=>{this.userStream.addTrack(t)}))}catch(t){alert(t)}},joinedRoom(t){console.log(t)},shareStarted(t){console.log(t)},leftRoom(t){console.log(t)},async copyClipboard(){await navigator.clipboard.writeText(`https://vue-webrtc-two.vercel.app/#${this.roomId}`),alert("Link copied to clipboard!")},async share(){const t={title:"J Comp Meet",text:"Join my meeting!",url:`https://meet.jcompsolu.com/#${this.roomId}`};try{await navigator.share(t)}catch(e){this.copyClipboard()}}}},s=i,c=o(281),d=(0,c.Z)(s,n,a,!1,null,null,null),l=d.exports,u=o(274),h=o.n(u),p=o(669);r.ZP.use(o(996)),r.ZP.use(p.Z.Adsense),r.ZP.use(h()),r.ZP.config.productionTip=!1,new r.ZP({render:t=>t(l)}).$mount("#app")}},e={};function o(r){var n=e[r];if(void 0!==n)return n.exports;var a=e[r]={exports:{}};return t[r].call(a.exports,a,a.exports,o),a.exports}o.m=t,function(){var t=[];o.O=function(e,r,n,a){if(!r){var i=1/0;for(l=0;l<t.length;l++){r=t[l][0],n=t[l][1],a=t[l][2];for(var s=!0,c=0;c<r.length;c++)(!1&a||i>=a)&&Object.keys(o.O).every((function(t){return o.O[t](r[c])}))?r.splice(c--,1):(s=!1,a<i&&(i=a));if(s){t.splice(l--,1);var d=n();void 0!==d&&(e=d)}}return e}a=a||0;for(var l=t.length;l>0&&t[l-1][2]>a;l--)t[l]=t[l-1];t[l]=[r,n,a]}}(),function(){o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,{a:e}),e}}(),function(){o.d=function(t,e){for(var r in e)o.o(e,r)&&!o.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};o.O.j=function(e){return 0===t[e]};var e=function(e,r){var n,a,i=r[0],s=r[1],c=r[2],d=0;if(i.some((function(e){return 0!==t[e]}))){for(n in s)o.o(s,n)&&(o.m[n]=s[n]);if(c)var l=c(o)}for(e&&e(r);d<i.length;d++)a=i[d],o.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return o.O(l)},r=self["webpackChunkwebrtc_demo"]=self["webpackChunkwebrtc_demo"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=o.O(void 0,[998],(function(){return o(305)}));r=o.O(r)})();
//# sourceMappingURL=app.06309c2f.js.map